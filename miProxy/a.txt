Successfully make server, socket: 4
Loop forever
Waiting connection

---New client connection---
socket fd is 5 , ip is : 127.0.0.1 , port : 58382 

Start to handle a request..., socket is 5
Successfully make client, socket: 6
Recv the request, nbytes: 452
###################################################################

GET /index.html HTTP/1.1
Host: 127.0.0.1:8888
User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
Connection: keep-alive
Upgrade-Insecure-Requests: 1
If-Modified-Since: Mon, 01 Jan 2018 02:01:51 GMT
If-None-Match: W/"49618-764-5afdaed4c2c8b"
Cache-Control: max-age=0

###################################################################

method: GET, uri: /index.html, version: HTTP/1.1
Finish read tail, result:
Host: 127.0.0.1:8888
User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
Connection: keep-alive
Upgrade-Insecure-Requests: 1
If-Modified-Since: Mon, 01 Jan 2018 02:01:51 GMT
If-None-Match: W/"49618-764-5afdaed4c2c8b"
Cache-Control: max-age=0


Send..., Done, nbytes is 1024
###################################################################

GET /index.html HTTP/1.1
Host: 127.0.0.1:8888
User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: en-US,en;q=0.5
Accept-Encoding: gzip, deflate
Connection: keep-alive
Upgrade-Insecure-Requests: 1
If-Modified-Since: Mon, 01 Jan 2018 02:01:51 GMT
If-None-Match: W/"49618-764-5afdaed4c2c8b"
Cache-Control: max-age=0

###################################################################

Clean buf...Done
Send again..., nbytes is 2
###################################################################

###################################################################

Start timing...start time: 6217, Done
Recv first chunk..., Done, nbytes is 1024
###################################################################

HTTP/1.1 200 OK
Date: Mon, 01 Jan 2018 02:02:45 GMT
Server: Apache/2.2.32 (Unix)
Last-Modified: Mon, 01 Jan 2018 02:02:45 GMT
ETag: W/"49618-764-5afdaed4c2c8b"
Accept-Ranges: bytes
Content-Length: 1892
Keep-Alive: timeout=30000, max=500000
Connection: Keep-Alive
Content-Type: text/html

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Strobe Media Playback</title>
    <script type="text/javascript" src="swfobject.js"></script>
	<script type="text/javascript">  		
        var loc = window.location.host

    	// Create a StrobeMediaPlayback configuration
		var parameters =
			{	src: "http://"+loc+"/vod/big_buck_bunny.f4m"
   			,	autoPlay: true
			,	controlBarAutoHide: false
			,   javascriptCallbackFunction: "onJavaScriptBridgeCreated"
			};
    		
		// Embed the player SWF:
		swfobject.embedSWF
			( "StrobeMediaPlayback.swf"
			, "strobeMediaPlayback"
			, 1280
			, 720
			, ###################################################################

Parse content length
Header length: 299
Content-Length: 1892
Remain to read: 1167
Remain to read: 0
IS something else
Send response, nbytes: 310720
###################################################################

HTTP/1.1 400 Bad Request
Date: Mon, 01 Jan 2018 02:02:45 GMT
Server: Apache/2.2.32 (Unix)
Content-Length: 226
Connection: close
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html><head>
<title>400 Bad Request</title>
</head><body>
<h1>Bad Request</h1>
<p>Your browser sent a request that this server could not understand.<br />
</p>
</body></html>
">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Strobe Media Playback</title>
    <script type="text/javascript" src="swfobject.js"></script>
	<script type="text/javascript">  		
        var loc = window.location.host

    	// Create a StrobeMediaPlayback configuration
		var parameters =
			{	src: "http://"+loc+"/vod/big_buck_bunny.f4m"
   			,	autoPlay: true
			,	controlBarAutoHide: false
			,   javascriptCallbackFunction: "onJavaScriptBridgeCreated"
			};
    		
		// Embed the player SWF:
		swfobject.embedSWF
			( "StrobeMediaPlayback.swf"
			, "strobeMediaPlayback"
			, 1280
			, 720
			, "10.1.0"
			, {}
			, parameters
			, { allowFullScreen: "true"}
			, { name: "strobeMediaPlayback" }
			);

			
		function onCurrentTimeChange(time, playerId)
		{
			document.getElementById("currentTime").innerHTML = time;
		}
		
		function onDurationChange(time, playerId)
		{
			document.getElementById("duration").innerHTML = time;
		}
		var player = null;
		function onJavaScriptBridgeCreated(playerId)
		{
			if (player == null) {
				player = document.getElementById(playerId);
				
				// Add event listeners that will update the
				player.addEventListener("currentTimeChange", "onCurrentTimeChange");
				player.addEventListener("durationChange", "onDurationChange");
				
				// Pause/Resume the playback when we click the Play/Pause link
				document.getElementById("play-pause").onclick = function(){
					var state = player.getState();
					if (state == "ready" || state == "paused") {
						player.play2();
					}
					else
						if (state == "playing") {
							player.pause();
						}
					return false;
				};
			}
		}
    </script>  	
  </head>
  <body>
	<div id="strobeMediaPlayback">
      <p>Alternative content</p>
    </div>
  </body>
</html>
###################################################################

Loop forever

Start to handle a request..., socket is 5
Successfully make client, socket: 6
Recv the request, nbytes: -1
###################################################################

###################################################################

Socket 5 remove